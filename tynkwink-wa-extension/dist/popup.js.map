{
  "version": 3,
  "sources": ["../src/popup/popup.ts"],
  "sourcesContent": ["import type { AuthState } from \"../common/types\";\r\n\r\nconst statusEl = document.getElementById(\"status\") as HTMLDivElement;\r\nconst openWaBtn = document.getElementById(\"open-wa\") as HTMLButtonElement;\r\nconst clearBtn = document.getElementById(\"clear\") as HTMLButtonElement;\r\n\r\nasync function load() {\r\n  const res = await chrome.runtime.sendMessage({ type: \"AUTH_GET\" });\r\n  if (!res?.ok) {\r\n    statusEl.textContent = `Error loading auth: ${res?.error || \"unknown\"}`;\r\n    return;\r\n  }\r\n\r\n  const auth = res.auth as AuthState;\r\n  statusEl.textContent = auth.token ? \"CRM credentials loaded.\" : \"Not logged in yet.\";\r\n}\r\n\r\nopenWaBtn.onclick = () => {\r\n  chrome.tabs.create({ url: \"https://web.whatsapp.com\" });\r\n};\r\n\r\nclearBtn.onclick = async () => {\r\n  statusEl.textContent = \"Clearing saved credentials...\";\r\n  const auth: AuthState = { apiBase: null, tenantId: null, token: null };\r\n  const res = await chrome.runtime.sendMessage({ type: \"AUTH_SAVE\", auth });\r\n  statusEl.textContent = res?.ok ? \"Cleared.\" : `Clear failed: ${res?.error || \"unknown\"}`;\r\n};\r\n\r\nload();\r\n"],
  "mappings": ";AAEA,IAAM,WAAW,SAAS,eAAe,QAAQ;AACjD,IAAM,YAAY,SAAS,eAAe,SAAS;AACnD,IAAM,WAAW,SAAS,eAAe,OAAO;AAEhD,eAAe,OAAO;AACpB,QAAM,MAAM,MAAM,OAAO,QAAQ,YAAY,EAAE,MAAM,WAAW,CAAC;AACjE,MAAI,CAAC,KAAK,IAAI;AACZ,aAAS,cAAc,uBAAuB,KAAK,SAAS,SAAS;AACrE;AAAA,EACF;AAEA,QAAM,OAAO,IAAI;AACjB,WAAS,cAAc,KAAK,QAAQ,4BAA4B;AAClE;AAEA,UAAU,UAAU,MAAM;AACxB,SAAO,KAAK,OAAO,EAAE,KAAK,2BAA2B,CAAC;AACxD;AAEA,SAAS,UAAU,YAAY;AAC7B,WAAS,cAAc;AACvB,QAAM,OAAkB,EAAE,SAAS,MAAM,UAAU,MAAM,OAAO,KAAK;AACrE,QAAM,MAAM,MAAM,OAAO,QAAQ,YAAY,EAAE,MAAM,aAAa,KAAK,CAAC;AACxE,WAAS,cAAc,KAAK,KAAK,aAAa,iBAAiB,KAAK,SAAS,SAAS;AACxF;AAEA,KAAK;",
  "names": []
}
